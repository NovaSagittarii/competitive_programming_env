{
	// Place your ccc workspace snippets here. Each snippet is defined under a snippet name and has a scope, prefix, body and
	// description. Add comma separated ids of the languages where the snippet is applicable in the scope field. If scope
	// is left empty or omitted, the snippet gets applied to all languages. The prefix is what is
	// used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
	// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders.
	// Placeholders with the same ids are connected.
	// Example:
	"common rep": {
		"scope": "cpp",
		"prefix": "common/rep",
		"body": [
			"for (${1:int} ${2:i} = ${3:0}; $2 < ${3:n}; ++$2) {",
			"\t$0",
			"}",
		],
		"description": "For loop",
	},
	"common all": {
		"scope": "cpp",
		"prefix": "common/all",
		"body": [
			"${1:a}.begin(), $1.end()$0",
		],
	},
	"common sort (ascending)": {
		"scope": "cpp",
		"prefix": "common/sort",
		"body": [
			"std::sort(${1:a}.begin(), $1.end());",
			"$0",
		],
	},
	"common sort (descending)": {
		"scope": "cpp",
		"prefix": "common/rsort",
		"body": [
			"std::sort(${1:a}.rbegin(), $1.rend());",
			"$0",
		],
	},

	// "dp"
	"common prefix_sum binary_operation": {
		"scope": "cpp",
		"prefix": "common/ps",
		"body": [
			"vi ${1:ps}(${2:a}.size()+1); // $1[i] = [0, i)",
			"for (int i = 0; i < $2.size(); ++i) $1[i+1] = $1[i] ${3|+,^,*|} $2[i];",
			"$0",
		],
	},
	"common suffix_sum binary_operation": {
		"scope": "cpp",
		"prefix": "common/ss",
		"body": [
			"vi ${1:ss}(${2:a}.size()+1); // $1[i] = [i, n)",
			"for (int i = 0; i < $2.size(); ++i) $1[i] = $1[i+1] ${3|+,^,*|} $2[i];",
			"$0",
		],
	},
	"common prefix_sum function": {
		"scope": "cpp",
		"prefix": "common/ps-function",
		"body": [
			"vi ${1:ps}(${2:a}.size()+1); // $1[i] = [0, i)",
			"for (int i = 0; i < $2.size(); ++i) $1[i+1] = ${3|std::max,std::min|}($1[i], $2[i]);",
			"$0",
		],
	},
	"common suffix_sum function": {
		"scope": "cpp",
		"prefix": "common/ss-function",
		"body": [
			"vi ${1:ss}(${2:a}.size()+1); // $1[i] = [i, n)",
			"for (int i = 0; i < $2.size(); ++i) $1[i] = ${3|std::max,std::min|}($1[i], $2[i]);",
			"$0",
		],
	},

	// binary search
	"common binary_search": {
		"scope": "cpp",
		"prefix": "common/binary_search",
		"body": [
			"int lmid = -1;",
			"for (${1:int} lo = ${2:0}, hi = ${3:1e9}, mid; lo <= hi;) {",
			"\tmid = lo + (hi - lo) / 2;",
			"\tbool ok = true;",
			"${4:\t/* max */ if (ok) lo = (lmid = mid) + 1;\n\telse hi = mid - 1;}",
			"${5:\t/* min */ if (ok) hi = (lmid = mid) - 1;\n\telse lo = mid + 1;}",
			"}",
		],
	},

	// graphs
	"common dfs tree": {
		"scope": "cpp",
		"prefix": "common/dfs-tree",
		"body": [
			"auto ${1:dfs} = [&](int u, int prev, auto&& dfs) -> ${2:void} {",
			"\tfor (auto v : ${3:adj}[u]) {",
			"\t\tif (v == prev) continue;",
			"\t\tdfs(v, u, dfs);",
			"\t\t$0",
			"\t}",
			"};",
			"$1(0, -1, $1);",
		],
	},
	"common bfs": {
		"scope": "cpp",
		"prefix": "common/bfs",
		"body": [
			"std::queue<${1:int}> q;",
			"q.push(${2:s});",
			"vi dist(${3:adj}.size(), -1);",
			"for (int depth = 0; !q.empty(); ++depth) {",
			"\tint qn = q.size();",
			"\twhile (qn--) {",
			"\t\tauto u = q.front();",
			"\t\tq.pop();",
			"\t\tif (dist[u] != -1) continue;",
			"\t\tdist[u] = depth;",
			"\t\tif (${4:u == t}) {",
			"\t\t\t// depth=mindist",
			"\t\t\twhile (!q.empty()) q.pop();",
			"\t\t\tbreak;",
			"\t\t}",
			"\t\tfor (auto v : $3[u]) {",
			"\t\t\tq.push(v);",
			"\t\t}",
			"\t}",
			"}",
		],
	},
}
